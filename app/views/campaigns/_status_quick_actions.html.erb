<div class="flex items-center space-x-2">
  <% case campaign.status %>
  <% when 'draft' %>
    <!-- Draft Actions -->
    <%= button_to "Activate Campaign", 
                  campaign_path(campaign), 
                  method: :patch, 
                  params: { campaign: { status: 'active' } },
                  class: "btn btn-primary btn-sm inline-flex items-center",
                  form: { 
                    "data-controller": "confirmation", 
                    "data-confirmation-message-value": "Are you sure you want to activate this campaign? This will start all campaign activities." 
                  } do %>
      <svg class="w-4 h-4 mr-1.5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.828 14.828a4 4 0 01-5.656 0M9 10h1m4 0h1m-6 4h1m4 0h1m2-7V8a2 2 0 00-2-2H6a2 2 0 00-2 2v1m16 8v1a2 2 0 01-2 2H6a2 2 0 01-2-2v-1"/>
      </svg>
      Activate
    <% end %>
    
    <%= link_to edit_campaign_path(campaign), 
                class: "btn btn-outline btn-sm inline-flex items-center" do %>
      <svg class="w-4 h-4 mr-1.5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/>
      </svg>
      Edit
    <% end %>

  <% when 'active' %>
    <!-- Active Campaign Actions -->
    <%= button_to "Pause Campaign", 
                  campaign_path(campaign), 
                  method: :patch, 
                  params: { campaign: { status: 'paused' } },
                  class: "btn btn-warning btn-sm inline-flex items-center",
                  form: { 
                    "data-controller": "confirmation", 
                    "data-confirmation-message-value": "Pause this campaign? All active activities will be temporarily stopped." 
                  } do %>
      <svg class="w-4 h-4 mr-1.5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
      </svg>
      Pause
    <% end %>
    
    <%= button_to "Complete Campaign", 
                  campaign_path(campaign), 
                  method: :patch, 
                  params: { campaign: { status: 'completed' } },
                  class: "btn btn-success btn-sm inline-flex items-center",
                  form: { 
                    "data-controller": "confirmation", 
                    "data-confirmation-message-value": "Mark this campaign as completed? This will end all campaign activities." 
                  } do %>
      <svg class="w-4 h-4 mr-1.5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
      </svg>
      Complete
    <% end %>

  <% when 'paused' %>
    <!-- Paused Campaign Actions -->
    <%= button_to "Resume Campaign", 
                  campaign_path(campaign), 
                  method: :patch, 
                  params: { campaign: { status: 'active' } },
                  class: "btn btn-primary btn-sm inline-flex items-center",
                  form: { 
                    "data-controller": "confirmation", 
                    "data-confirmation-message-value": "Resume this campaign? All paused activities will be reactivated." 
                  } do %>
      <svg class="w-4 h-4 mr-1.5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.828 14.828a4 4 0 01-5.656 0M9 10h1m4 0h1m-6 4h1m4 0h1m2-7V8a2 2 0 00-2-2H6a2 2 0 00-2 2v1m16 8v1a2 2 0 01-2 2H6a2 2 0 01-2-2v-1"/>
      </svg>
      Resume
    <% end %>
    
    <%= button_to "Complete Campaign", 
                  campaign_path(campaign), 
                  method: :patch, 
                  params: { campaign: { status: 'completed' } },
                  class: "btn btn-success btn-sm inline-flex items-center",
                  form: { 
                    "data-controller": "confirmation", 
                    "data-confirmation-message-value": "Mark this campaign as completed without resuming?" 
                  } do %>
      <svg class="w-4 h-4 mr-1.5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
      </svg>
      Complete
    <% end %>

  <% when 'completed' %>
    <!-- Completed Campaign Actions -->
    <%= button_to "Archive Campaign", 
                  archive_campaign_path(campaign), 
                  method: :patch,
                  class: "btn btn-outline btn-sm inline-flex items-center",
                  form: { 
                    "data-controller": "confirmation", 
                    "data-confirmation-message-value": "Archive this completed campaign? It will be moved to the archive section." 
                  } do %>
      <svg class="w-4 h-4 mr-1.5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 8l6 6 6-6"/>
      </svg>
      Archive
    <% end %>
    
    <%= link_to duplicate_campaign_path(campaign), 
                method: :post,
                class: "btn btn-outline btn-sm inline-flex items-center",
                "data-controller": "confirmation",
                "data-confirmation-message-value": "Create a copy of this campaign?" do %>
      <svg class="w-4 h-4 mr-1.5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/>
      </svg>
      Duplicate
    <% end %>

  <% when 'archived' %>
    <!-- Archived Campaign Actions -->
    <%= button_to "Restore Campaign", 
                  campaign_path(campaign), 
                  method: :patch, 
                  params: { campaign: { status: 'draft' } },
                  class: "btn btn-outline btn-sm inline-flex items-center",
                  form: { 
                    "data-controller": "confirmation", 
                    "data-confirmation-message-value": "Restore this campaign to draft status?" 
                  } do %>
      <svg class="w-4 h-4 mr-1.5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
      </svg>
      Restore
    <% end %>
    
    <%= link_to duplicate_campaign_path(campaign), 
                method: :post,
                class: "btn btn-outline btn-sm inline-flex items-center" do %>
      <svg class="w-4 h-4 mr-1.5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/>
      </svg>
      Duplicate
    <% end %>
  <% end %>

  <!-- Common Actions -->
  <div class="border-l border-gray-300 pl-2 ml-2">
    <%= link_to campaign_path(campaign), 
                class: "btn btn-outline btn-sm inline-flex items-center" do %>
      <svg class="w-4 h-4 mr-1.5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/>
      </svg>
      Analytics
    <% end %>
  </div>
</div>